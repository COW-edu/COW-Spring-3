
pr링크: https://github.com/COW-edu/practice-oop-banking/pull/8

## 미션 구현과정

객체지향적으로 이번 미션 코드를 구현하기 위해 많은 고민을 한거 같습니다. 우선 기능 요구 사항을 이해하고 어떠한 요구기능이 있을지 고민하고 목록을 만들고 그것을 보며 과제를 만들어 나갔습니다.

## 코드 구조 설명

- view(패키지)

  사용자의 입력을 받거나 필요한 정보를 출력해주는 기능

  InputView와 OutputView로 분리


- controller(패키지)

  view와 service를 연결해준다.

- Bank(패키지)

  사용자의 계좌 정보를 저장하고 입금, 출금, 송금등을 하는 패키지

- interest(패키지)

  이자율을 계산해 예상 이자율을 합친 금액을 반환


## MVC구조

사용자 로직과 비즈니스 로직을 분리하기위해 기본적으로 mvc구조를 사용하려고 노력 하였습니다.

Controller 를 통해서 view를 상황에 맞데 호출하여 사용자에게 값을 받아 서비스쪽으로 보내주는 역할을 하도록 만들었습니다.

구현 중에 고민 사항은 mvc구조로 하면서 cotroller의 메서드에서 특정 사항에 맞게 값을 변경해서 넣어주는 메서드들이 있는데 이런식으로 구현하면 단일 책임 원칙을 어기는게 아닌가에 대한 고민을 하였습니다.

## 객체 지향코드를 짜기위한 노력

1. **역할과 구현을 최대한 분리하려고 노력**
    - 서비스와 실제 값이 저장되는 레파지토리를 분리하였습니다.
2. **인터페이스와 구현객체를 분리**

   실제 구현 객체들이 인터페이스를 의존 하도록 만들었습니다.

3. **AppConfig**

   애플리케션의 동작을 구성하기 위한 구현 객체를 Appconfig가 생성하여 연결해줌으로 객체 인스턴스의 참조(레퍼런스)를 **“생성자를 통해서 주입(연결)”**해줍니다.

    - DIP: ‘MemberServiceImpl’은 ‘MemberRepostory’인 추상에만 의존, 구체클래스는 몰라야함
    - OCP: 수정에는 닫혀있고 확장에는 열려있도록 설계
    - 관심사의 분리: 객체를 생성하고 연결하는 역할과 실행하는 역할이 분리
4. **단일 책임 원칙**

   클래스가 하나의 기능을 하도록 만들려고 노력했습니다.

   최대한 메서드가 15줄을 넘어가지 않도록하여 너무많은 역할을 가지지 않도록 했습니다.


## 그 밖의 노력들

1. View 를 인풋과 아웃풋으로 분리
2. 메세지 상수 처리
3. 연관된 상수는 enum처리
4. 단위 테스트 작성
5. stream을 사용하여 코드 간결하게 만들기
6. 최대한 다중 중첩문 지양하기
7. else, elseif 사용하지 않기

## 진행하면서  가장 크게 배운점

처음에는 일반계좌와 적금계좌 둘다 따로 다른 인터페이스를 받도록 했으나 이후 리팩토링 과정을 거쳐 다운캐스팅을 통해 상황에 맞게 사용하였다.

## 아쉬운 점, 보완할 점

처음부터 너무 구조에 신경쓰다 보니 코드를 많이 작성했다고 지우고 리팩토링하고 하는 과정을 하는데 시간을 너무 많이 쓴것 같습니다.

일단 기능에 집중을 했어야 하는데 그 부분을 잘 신경 못 쓴 것 같습니다. 가장 크게는 제대로 예외처리를 잘 하지못했다는 점과  계좌 비활성화기능을 제대로 구현하지 못했다는 점입니다.

또한 테스트 코드를 기능별로 한기능을 만들때마다 만들었어야 하는데 단위테스트가 부족하다는 생각이 들었습니다.

그것 말고도 구조상 컨트롤에서 너무 많은 책임을 가지고 있는 것 때문 mvc구조를 다시 한번 생각해 보는 계기가 되었고 이곳저곳에 고쳐야 할 코드들이 눈에 보이지만 시간상 체크만 해놓는 경우도 많았습니다.

## 느낀점

하지만 이번에 이런 방식으로 코드를 짜면서 막히는 부분도 많았지만 하나하나 해결할때 마다 배워가는 내용이 많았고 여러가지를 시도해보며 전체 코드 구조들에 대해 고민하는 시간이 되었던것 같습니다. 다음 시간에는 피드백들과 제가 생각한 부족한점들을 추가하여 더 좋은 코드로 리팩토링하고싶습니다.