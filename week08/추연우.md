# COW MVC PRACTICE ν•™μµ μ €μ¥μ†
Postmanμ„ μ‚¬μ©ν•μ—¬, μ—¬λ¬λ¶„μ΄ μ§μ ‘ apiλ¥Ό μ„¤κ³„ν•©λ‹λ‹¤. κ·Έ λ‹¤μ μ—¬λ¬λ¶„μ΄ μ¤ν”„λ§μ„ μ‚¬μ©ν•μ—¬ μ›Ή μ„λ²„λ¥Ό κµ¬ν„ν•κ³  Postmanμ„ ν†µν•΄ μ”μ²­μ— λ€ν• μ μ ν• μ‘λ‹µμ΄ μ™”λ” μ§€λ¥Ό ν™•μΈν•λ” κ²ƒμ΄ μ΄λ² κ³Όμ μ
μµμΆ… λ©ν‘μ…λ‹λ‹¤.
## π“® λ―Έμ… μ μ¶ λ°©λ²•
- λ―Έμ… κµ¬ν„μ„ μ™„λ£ν• ν›„ GitHubμ„ ν†µν•΄ μ μ¶ν•΄μ•Ό ν•λ‹¤.
    - [λ―Έμ… κµ¬ν„ μ €μ¥μ†] [docker μ‚¬μ© λ²„μ „](https://github.com/Hoya324/cow_mvc_practice) λλ” [h2 μ‚¬μ© λ²„μ „](https://github.com/Hoya324/cow_mvc_session) μ— μμ‹ μ μ‘μ„±ν• λ―Έμ… pr μ‘μ„±
      - docker ν™κ²½ μ„¤μ •μ΄ μ–΄λ ¤μ΄ κ²½μ° h2 μ‚¬μ© κ¶μ¥ν•©λ‹λ‹¤.
    - λ―Έμ… κµ¬ν„μ—μ„ κΈ°λ΅ν• mdνμΌμ€ [COW-Spring-3](https://github.com/COW-edu/COW-Spring-3/tree/main/week08) λ¦¬ν¬μ§€ν† λ¦¬μ— pr μ‘μ„±
    - λ―Έμ… κµ¬ν„ pr λ§ν¬ μ²¨λ¶€(ν•„μ)
---

ν„μ¬ λ©ν‘κ°€ μ›Ή μ„λ²„λ¥Ό κ°λ°ν•κΈ°μ— μΈν„°λ„·, http, Rest Apiμ— λ€ν•΄μ„ μ΅°μ‚¬ν•μ‹λ©΄ μ—¬λ¬λ¶„λ“¤μ—κ² λ„μ›€μ΄ λ  κ²ƒ κ°™μµλ‹λ‹¤.

λ μ¶”κ°€μ μΌλ΅ DBλ¥Ό μ λ¨λ¥΄μ‹λ” λ¶„λ“¤μ—κ² μ—”ν„°ν‹°κ°„μ κ΄€κ³„, 1:1 1:N μ²λ¦¬μ— λ¬Έμ κ°€ μƒκΈΈ μ μκΈ°μ— μ¶”κ°€μ μΌλ΅ ν•™μµν•μ…”λ„ μΆ‹μ„ κ²ƒ κ°™μµλ‹λ‹¤.

5/14 ν™”μ”μΌ 23:59 κΉμ§€ μ μ¶ν•΄μ£Όμ‹λ©΄ λκ² μµλ‹λ‹¤.

## [ν•„μ]

# 8μ£Όμ°¨ κ³Όμ 

## **μΈν„°λ„·κ³Ό λ„¤νΈμ›ν¬**

---

- μΈν„°λ„·
    - μ •μ
        - TCP/IP ν”„λ΅ν† μ½μ„ μ‚¬μ©ν•λ” λ„¤νΈμ›ν¬μ λ„¤νΈμ›ν¬ λλ” λ„¤νΈμ›ν¬μ μ§‘ν•©μ²΄.
            - TCP (Transmission Control Protocol) : μ»΄ν“¨ν„°κ°€ λ‹¤λ¥Έ μ»΄ν“¨ν„°μ™€ λ°μ΄ν„° ν†µμ‹ μ„ ν•κΈ° μ„ν• ν”„λ΅ν† μ½(μ•½μ†, κ·μ•½)μ μΌμΆ…μ΄λ‹¤.
            - IP (Internet Protocol) :  μΈν„°λ„·μ΄ ν†µν•λ” λ„¤νΈμ›ν¬μ—μ„ μ •λ³΄λ¥Ό μ†΅,μμ‹ ν•λ” ν†µμ‹ μ— λ€ν• κ·μ•½
        - μΈν„°λ„·μ΄λ€ μ—¬λ¬ ν†µμ‹ λ§μ„ ν•λ‚λ΅ μ—°κ²°ν•λ‹¤λ” μλ―Έμ Inter - NetworkλΌλ” λ§μ—μ„ μ‹μ‘λμ—μΌλ©°, μ „ μ„Έκ³„μ μ»΄ν“¨ν„°λ¥Ό ν•λ‚λ΅ μ—°κ²°ν•λ” κ±°λ€ν• μ»΄ν“¨ν„° ν†µμ‹ λ§μ„ μλ―Έ
        - κµ¬μ„±
            - μ»΄ν“¨ν„°λ“¤μ΄ κ°κ° ν΄λΌμ΄μ–ΈνΈμ™€ μ„λ²„λ΅μ¨ μ—°κ²°λμ–΄ κµ¬μ„±λ λ§ : μ»΄ν“¨ν„° λ„¤νΈμ›ν¬
            - μΈν„°λ„·μ€ μ΄λ¬ν• μ»΄ν“¨ν„° λ„¤νΈμ›ν¬μ μ§‘ν•©μ²΄(μ‹μ¤ν…)
        - νΉμ§•
            - μ„λ΅ λ™μ‹μ— μ°Έμ—¬ν•  μ μλ” μλ°©ν–¥ ν†µμ‹  μ κ³µ
            - μ»΄ν“¨ν„°λ” μ €μ¥μ΄ κ°€λ¥ν•κΈ° λ•λ¬Έμ— μ†΅μ‹ μ, μμ‹ μ λ¨λ‘ μ‹κ°„μ— μ μ•½ μ—†μ΄ λ„¤νΈμ›ν¬κ°€ μ—°κ²°λμ–΄ μμΌλ©΄ ν†µμ‹  κ°€λ¥
            - λ‹¤μ–‘ν• ν¬λ§·μ λ°μ΄ν„° μ†΅,μμ‹  κ°€λ¥
- λ„¤νΈμ›ν¬
    - μ •μ
        - λ‘ μ΄μƒμ μ»΄ν“¨ν„°μ™€ μ΄λ“¤μ„ μ—°κ²°ν•λ” λ§ν¬μ μ΅°ν•©
            - λ¬Όλ¦¬μ  λ„¤νΈμ›ν¬
                - μ–΄λ‘ν„°, μΌ€μ΄λΈ”, μ „ν™”μ„  λ“±μ μ¥μΉλ“¤
            - λ…Όλ¦¬μ  λ„¤νΈμ›ν¬
                - μ†ν”„νΈμ›¨μ–΄

## **httpλ€**

---

- http (Hyper Text Transfer Protocol)
    - WWWμƒμ—μ„ μ •λ³΄λ¥Ό μ£Όκ³  λ°›μ„ μ μλ” ν”„λ΅ν† μ½
        - WWW : μΈν„°λ„·μ— μ—°κ²°λ μ»΄ν“¨ν„°λ¥Ό ν†µν•΄ μ‚¬λγ„·λ¥΄μ΄ μ •λ³΄λ¥Ό κ³µμ ν•  μ μλ„λ΅ ν•λ” μ „ μ„Έκ³„μ μΈ μ •λ³΄ κ³µμ  μ‹μ¤ν… ( = Web )
    - μ£Όλ΅ HTML λ¬Έμ„λ¥Ό μ£Όκ³  λ°›λ” λ°μ— μ‚¬μ©
    - ν΄λΌμ΄μ–ΈνΈμ™€ μ„λ²„ μ‚¬μ΄μ— μ΄λ£¨μ–΄μ§€λ” μ”μ²­ & μ‘λ‹µ ν”„λ΅ν† μ½
        - ν΄λΌμ΄μ–ΈνΈ(μ›Ή λΈλΌμ°μ €)κ°€ HTTPλ¥Ό ν†µν•΄ μ„λ²„λ΅λ¶€ν„° μ›Ή νμ΄μ§€(HTML) μ΄λ‚ μ •λ³΄λ¥Ό μ”μ²­ν•λ©΄, μ„λ²„λ” μ΄ μ”μ²­μ— μ‘λ‹µν•μ—¬ ν•„μ”ν• μ •λ³΄λ¥Ό ν•΄λ‹Ή ν΄λΌμ΄μ–ΈνΈμ—κ² μ „μ†΅ν•κ² λ¨
    - HTTPλ¥Ό ν†µν•΄ μ „μ†΅λλ” μλ£λ” URLλ΅ μ΅°ν κ°€

## **http λ©”μ„λ“**

---

- μ •μ
    - ν΄λΌμ΄μ–ΈνΈ - μ„λ²„ κµ¬μ΅°μ—μ„ μ”μ²­κ³Ό μ‘λ‹µμ΄ μ΄λ£¨μ–΄μ§€λ” λ°©μ‹μ„ μλ―Έ
- μ‚¬μ© μ΄μ 
    - λ¦¬μ†μ¤μ™€ λ™μ‘μ„ λ¶„λ¦¬ν•κΈ° μ„ν•¨
    - HTTP λ©”μ†λ“λ¥Ό ν†µν•΄ λ™μ‘μ„ μ§€μ •ν•λ©΄, URLμ€ λ¦¬μ†μ¤λ§ μ‹λ³„ν•λ©΄ λ¨
- μΆ…λ¥
    - GET : λ¦¬μ†μ¤λ¥Ό μ΅°ν
        - URLμ΄λ‚ λ§ν¬λ¥Ό ν΄λ¦­ν•λ” κ²½μ° GET μ”μ²­ μ‹¤ν–‰
        - GET μ”μ²­μ—μ„ μ„λ²„μ— λ°μ΄ν„°λ¥Ό μ „λ‹¬ν•λ” κ²½μ°, μΏΌλ¦¬ μ¤νΈλ§μ„ ν†µν•΄ μ „λ‹¬

      ![Untitled](https://github.com/COW-edu/COW-Spring-3/assets/111961655/267e828d-fa1e-41c7-a255-cfed98625285)

    - POST : λ°μ΄ν„° μ¶”κ°€, λ“±λ΅
        - μ„±κ³µμ μΌλ΅ μƒμ„±μ„ μ™„λ£ν•λ©΄ 201(Created) HTTP μ‘λ‹µ λ°ν™
        - λ°μ΄ν„°λ¥Ό bodyμ— μΏΌλ¦¬ νλΌλ―Έν„° ν•μ‹μΌλ΅ μ „λ‹¬
            - μΏΌλ¦¬ νλΌλ―Έν„° β‡’ Key : Value ν•μ‹μ λ°μ΄ν„°
    - PUT : λ¦¬μ†μ¤ λ€μ²΄, μμ • / μ—†μ„ μ‹ μƒμ„±
        - λ¦¬μ†μ¤λ¥Ό μ™„μ „ν λ€μ²΄ ( λ®μ–΄μ“°κΈ° / μμ • )
        - ν΄λΌμ΄μ–ΈνΈκ°€ λ¦¬μ†μ¤ μ‹λ³„ κ°€λ¥
            - ν΄λΌμ΄μ–ΈνΈκ°€ κµ¬μ²΄μ μΈ μ„μΉλ¥Ό μ•„λ” μƒνƒμ—μ„ URLμ„ ν†µν•΄ μ”μ²­
        - λ¶€λ¶„ μμ • λ¶κ°€
            - λ¶€λ¶„ μμ • μ”μ²­μ‹μ— ν•„λ“ μ „μ²΄ μ‚­μ  ν›„ μμ • λ¶€λ¶„λ§ μƒμ„±
    - DELETE : λ¦¬μ†μ¤ μ‚­μ 
        - λ¦¬μ†μ¤λ¥Ό μ κ±°ν•λ” μ—­ν• 
    - PATCH : λ¦¬μ†μ¤ λ¶€λ¶„ μμ •
        - PUTκ³Ό κ°™μ΄ λ¦¬μ†μ¤λ¥Ό μμ •ν•λ” μ—­ν• μ„ μ§„ν–‰ν•μ§€λ§, PUTκ³Ό λ‹¤λ¥΄κ² λ¶€λ¶„ λ³€κ²½μ„ μ§„ν–‰
        - PATCHλ¥Ό μ§€μ›ν•μ§€ μ•λ” μ„λ²„λ” POST μ‚¬μ©
    - HEAD : GETκ³Ό λ™μΌν•λ‚, HTTP λ©”μ‹μ§€μ body λ¶€λ¶„μ„ μ μ™Έν•κ³  μ΅°ν
        - μ‘λ‹µ μƒνƒμ μ½”λ“λ§μ„ ν™•μΈν• λ•μ™€ κ°™μ΄ λ¦¬μ†μ¤λ¥Ό λ°›μ§€ μ•κ³  μ¤μ§ μ°ΎκΈ°λ§ μ›ν•  λ• μ‚¬μ©
        - μ‘λ‹µ ν—¤λ”λ¥Ό ν™•μΈν•¨μΌλ΅μ¨ λ¦¬μ†μ¤κ°€ μμ •λμ—λ”μ§€ κ°„λ‹¨ν•κ² ν™•μΈ κ°€λ¥
    - OPTIONS : μ„λ²„μ™€ λΈλΌμ°μ €κ°€ ν†µμ‹ ν•κΈ° μ„ν• ν†µμ‹  μµμ…μ„ ν™•μΈ
        - μλΉ„ μ”μ²­μ— μ‚¬μ©
            - μλΉ„ μ”μ³¥ : λ³Έ μ”μ²­ μ „ μ•μ „ κ²€μ‚¬
    - TRACE : λ¦¬μ†μ¤ κ²€μ‚¬μ©
        - μ„λ²„μ— λ„λ‹¬ν–μ„ λ•μ μµμΆ… μ”μ²­ λ‚΄μ©μ„ μ‘λ‹µ λ°›μ„ μ μμ
        - μ”μ²­μ μµμΆ… μμ‹ μλ” λ°λ“μ‹ μ†΅μ‹ μμ—κ² OK(200) μ‘λ‹µμ λ‚΄μ©(body)λ΅ μμ‹ ν• λ©”μ‹μ§€λ¥Ό λ°μ†΅ν•¨

## **http μƒνƒ μ½”λ“**

---

- μ •λ³΄ μ‘λ‹µ
    - 100 Continue
    - 101 Switching Protocol
    - 102 Processing
    - 103 Early Hints
- μ„±κ³µ μ‘λ‹µ
    - 200 OK
    - 201 Created
    - 202 Accepted
    - 203 None - Authoritative Information
    - 204 No content
    - 205 Reset Contetn
    - 206 Partial Content
    - 207 Multi - Status
    - 208 Multi - Status
    - 209 IM Used
- λ¦¬λ‹¤μ΄λ ‰μ… λ©”μ‹μ§€
    - 300 Multi Choice
    - 301 Moved Permanently
    - 302 Found
    - 303 Sec Other
    - 304 Not Modified
    - 307 Temporary Redirect
    - 308 Permanent Redirect
- ν΄λΌμ΄μ–ΈνΈ μ—λ¬ μ‘λ‹µ
    - 400 Bad Request
    - 401 Unautorized
    - 403 Forbidden
    - 404 Not Found
    - 405 Method Not Allowed
    - 406 Not Acceptable
    - 407 Proxy Authentication Required
    - 408 Request Timeout
    - 409 Conflict
    - 410 Gone
    - 411 Length Required
    - 412 Precondition Failed
    - 413 Payload Too Large
    - 414 URL Too Long
    - 415 Unsupported Media Type
    - 416 Requested Range Not Satisfiable
    - 417 Expectation Failed
    - 418 Iβ€™m a teapot
    - 421 Misdirected Request
    - 422 Unprocessable Entity
    - 423 Locked
    - 424 Failed Dependency
    - 426 Upgrade Required
    - 428 Precondition Required
    - 429 Too Many Requests
    - 431 Request Header Fields Too Large
    - 451 Unvailable For Lefal Reasons
- μ„λ²„ μ—λ¬ μ‘λ‹µ
    - 500 Internal Server Error
    - 501 Not Implemented
    - 502 Bad Gateway
    - 503 Service Unavailable
    - 504 Gateway Timeout
    - 505 HTTP Version Not Supported
    - 506 Variant Also Negotiates
    - 507 Insufficient Storage
    - 508 Loop Detected
    - 510 Not Extended
    - 511 Network Authentication Required

## **Rest APIλ€**

---

- API (Application Programming Interface) : μ• ν”λ¦¬μΌ€μ΄μ…μ΄λ‚ λ””λ°”μ΄μ¤κ°€ μ„λ΅ κ°„μ— μ—°κ²°ν•μ—¬ ν†µμ‹ ν•  μ μλ” λ°©λ²•μ„ μ •μν•λ” κ·μΉ™
- Rest (Representational State Transfer) : μμ›μ„ μ΄λ¦„μΌλ΅ κµ¬λ¶„ν•μ—¬ ν•΄λ‹Ή μμ›μ μƒνƒλ¥Ό μ£Όκ³  λ°›λ” λ¨λ“  κ²ƒ
    - κµ¬μ„± μ”μ†
        - μμ› : HTTP URL
        - μμ›μ— λ€ν• ν–‰μ„ : HTTP Method
        - ν–‰μ„μ λ‚΄μ© : HTTP Message Pay Load
            - Pay Load : μ”μ²­μ„ λ³΄λ‚Ό λ• μ „λ‹¬λλ” λ°μ΄ν„°
    - νΉμ§•
        1. Server-Client(μ„λ²„-ν΄λΌμ΄μ–ΈνΈ κµ¬μ΅°)
        2. Stateless(λ¬΄μƒνƒ)
        3. Cacheable(μΊμ‹ μ²λ¦¬ κ°€λ¥)
        4. Layered System(κ³„μΈµν™”)
        5. Uniform Interface(μΈν„°νμ΄μ¤ μΌκ΄€μ„±)
    - μ¥μ 
        - HTTP μΈν”„λΌλ¥Ό κ·Έλ€λ΅ μ‚¬μ©ν•μ—¬ λ³„λ„μ μΈν”„λΌ κµ¬μ¶• ν•„μ” μ—†μ
        - Hypermedia APIμ κΈ°λ³Έμ„ μ¶©μ‹¤ν μ§€ν‚¤λ©΄μ„ λ²”μ©μ„± λ³΄μ¥
        - μλ„ν•λ” λ°”λ¥Ό λ…ν™•ν•κ² λ‚νƒ€λ‚΄μ–΄ μλ„ν•λ” λ°”λ¥Ό μ‰½κ² νμ•… κ°€λ¥
        - μ„λ²„μ™€ ν΄λΌμ΄μ–ΈνΈμ μ—­ν• μ„ λ…ν™•ν κµ¬λ¶„
    - λ‹¨μ 
        - ν‘μ¤€μ΄ μ΅΄μ¬ν•μ§€ μ•μ•„ μ •μκ°€ ν•„μ”
        - HTTP Methodμ ν•νƒκ°€ μ ν•μ 
        - κµ¬ν• λΈλΌμ°μ €μ—μ„ νΈν™ μ•λ¨
- Rest API  : Rest μ•„ν‚¤ν…μ³ μ¤νƒ€μΌμ λ””μμΈ μ›μΉ™μ„ μ¤€μν•λ” API
    - κ·μΉ™
        - URLμ€ λ™μ‚¬λ³΄λ‹¤λ” λ…μ‚¬λ¥Ό, λ€λ¬Έμλ³΄λ‹¤λ” μ†λ¬Έμλ¥Ό μ‚¬μ©ν•΄μ•Όν•¨

          ![Untitled 1](https://github.com/COW-edu/COW-Spring-3/assets/111961655/5fd70cff-38d2-48b5-bbf0-78b2068bd1fa)

        - λ§μ§€λ§‰μ— μ¬λμ‰¬( / )λ¥Ό ν¬ν•¨ν•μ§€ μ•λ”λ‹¤.

          ![Untitled 2](https://github.com/COW-edu/COW-Spring-3/assets/111961655/8d6d08c5-aea1-4f57-a404-b375de421cc2)

        - μ–Έλ”λ°”( _ ) λ€μ‹ μ— ν•μ΄ν°( - )μ„ μ‚¬μ©

          ![Untitled 3](https://github.com/COW-edu/COW-Spring-3/assets/111961655/f0b30096-da18-4e3b-b9e4-67a8d06fa72b)

        - ν™•μ¥μ λ…μ€ URLμ— ν¬ν•¨ν•μ§€ μ•λ”λ‹¤.

          ![Untitled 4](https://github.com/COW-edu/COW-Spring-3/assets/111961655/d953dca3-bb36-40f9-a5a6-51a89c5c86c1)

        - ν–‰μ„λ¥Ό ν¬ν•¨ν•μ§€ μ•λ”λ‹¤.

          ![Untitled 5](https://github.com/COW-edu/COW-Spring-3/assets/111961655/6fbc4ddf-c3bf-461e-b029-d189edfec997)


## **[μ¶”κ°€]**

## **Entityκ°„μ μ—°κ΄€ κ΄€κ³„μ μ£ΌμΈ**

---

- Entity κ°„μ μ—°κ΄€κ΄€κ³„λ¥Ό μ„¤μ •ν•λ” κ²ƒμ€ @ManyToOneκ³Ό @OneToManyλ΅ μ„¤μ • κ°€λ¥
    - @ManyToOneμ€ 1:N κ΄€κ³„μ—μ„ NμΈ Entityμ ν•„λ“μ— μ‚¬

      ![Untitled 6](https://github.com/COW-edu/COW-Spring-3/assets/111961655/d14408a6-b762-44c7-b005-bf4aab7ff0fa)

    - @OneToManyλ” 1:N κ΄€κ³„μ—μ„ 1μΈ Entityμ ν•„λ“μ—  μ‚¬μ©

        ![Untitled 7](https://github.com/COW-edu/COW-Spring-3/assets/111961655/242b649b-8906-453c-bc87-6a1d79d00950)

- μ—°κ΄€ κ΄€κ³„μ μ£ΌμΈμ„ μ„¤μ •ν•λ” κ²ƒμ€ @JoinColumnκ³Ό mappedByλ¥Ό ν†µν•΄ μ„¤μ • κ°€λ¥
- μ„¤μ • μ΄μ  : μ£ΌμΈμ΄ μ•„λ‹ λ°λ€νΈμ€ μ½κΈ°λ§ κ°€λ¥ν•κ² ν•κ³  μ™Έλν‚¤λ¥Ό λ³€κ²½ν•μ§€ λ»ν•κ² ν•κΈ° μ„ν•¨
- μ™Έλν‚¤λ¥Ό κ°€μ§€κ³  μλ” Entityκ°€ λ³΄ν†µ μ£ΌμΈμ΄ λ©λ‹λ‹¤.
- λ³΄ν†µ @ManyToOneμ΄ μ£ΌμΈμ΄ λ©λ‹λ‹¤
- mappedByλ¥Ό μ„¤μ •ν•΄μ¤μΌλ΅μ¨ μ£ΌμΈμ΄ μ•„λ‹λ‹¤λΌλ” λ» μ •μ
- mappedBy κ°’μ€ μ£ΌμΈμ—μ„ μ‚¬μ©ν•λ” μ™Έλν‚¤ ν•„λ“λ…μ„ μ‘μ„±